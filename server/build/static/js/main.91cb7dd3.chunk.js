(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{25:function(e,t,n){e.exports=n(35)},35:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(16),c=n.n(o),i=n(5),l=n.n(i),s=n(7),u=n(8),m=n(9),d=n(11),v=n(10),p="http://localhost:3000/api";function h(){return(h=Object(s.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+"/movies");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(s.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+"/movies",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(s.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+"/movies/".concat(t),{method:"delete"});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y={loadMovies:function(){return h.apply(this,arguments)},addMovie:function(e){return f.apply(this,arguments)},deleteMovie:function(e){return E.apply(this,arguments)}},b=n(17),M=n(6),g=n(24),j=function(e){Object(d.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.addMovie({title:a.state.title,score:a.state.score}),a.setState((function(e){return{title:"",score:"",key:e.key+1}}))},a.state={title:"",score:"",key:1},a}return Object(m.a)(n,[{key:"render",value:function(){return r.a.createElement(M.a,{key:this.state.key,onSubmit:this.handleSubmit},r.a.createElement(M.a.Group,{controlId:"movieTitle"},r.a.createElement(M.a.Label,null,"Title:\xa0"),r.a.createElement(M.a.Control,{value:this.state.title,name:"title",onChange:this.handleChange,required:!0})),r.a.createElement(M.a.Group,{controlId:"movieScore"},r.a.createElement(M.a.Label,null,"Score "),r.a.createElement(M.a.Control,{as:"select",custom:!0,value:this.state.score,onChange:this.handleChange,name:"score",required:!0},r.a.createElement("option",{value:""}," "),r.a.createElement("option",{value:1},"\u2606"),r.a.createElement("option",{value:2},"\u2606\u2606"),r.a.createElement("option",{value:3},"\u2606\u2606\u2606"),r.a.createElement("option",{value:4},"\u2606\u2606\u2606\u2606"),r.a.createElement("option",{value:5},"\u2606\u2606\u2606\u2606\u2606"))),r.a.createElement(M.a.Group,{controlId:"movieAdd"},r.a.createElement(g.a,{variant:"primary",type:"submit"},"Add")))}}]),n}(r.a.Component),k=n(21),w=n(19),x=n.n(w),O=n(20),S=n.n(O);var C=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.movie.title," (",e.movie.id,")"),r.a.createElement("td",null,function(e){for(var t=[],n=0;n<e;n++)t.push(r.a.createElement("img",{key:n,src:S.a,alt:"*"}));return t}(e.movie.score)),r.a.createElement("td",null,r.a.createElement("img",{onClick:function(){return e.deleteMovie(e.movie.id)},src:x.a,alt:"delete"})))};var A=function(e){return r.a.createElement(k.a,{bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"70%"}},"Movie"),r.a.createElement("th",{style:{width:"20%"}},"Score"),r.a.createElement("th",{style:{width:"10%"}},"Action"))),r.a.createElement("tbody",null,e.movies.sort((function(e,t){return t.score-e.score})).map((function(t){return r.a.createElement(C,{key:t.id,movie:t,deleteMovie:e.deleteMovie})}))))},I=n(22),G=n(23),J=function(e){Object(d.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).addMovie=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),e.next=3,y.addMovie(t);case 3:return e.next=5,y.loadMovies();case 5:n=e.sent,a.setState({movies:n,loading:!1});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.deleteMovie=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),e.next=3,y.deleteMovie(t);case 3:return e.next=5,y.loadMovies();case 5:n=e.sent,a.setState({movies:n,loading:!1});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={movies:[],loading:!0},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this;y.loadMovies().then((function(t){e.setState({movies:t,loading:!1})}))}},{key:"render",value:function(){return r.a.createElement(I.a,null,r.a.createElement("h1",null,"My Movies ",this.state.loading?"(...)":""),r.a.createElement(G.a,null,r.a.createElement(A,{movies:this.state.movies,deleteMovie:this.deleteMovie})),r.a.createElement("h2",null,"Add new movie"),r.a.createElement(j,{addMovie:this.addMovie}))}}]),n}(r.a.Component);n(34);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.91cb7dd3.chunk.js.map